<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Professional Date Converter</title>
  <style>
    body {
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: #fff;
      text-align: center;
      padding: 40px;
    }
    .container {
      background: rgba(255, 255, 255, 0.1);
      padding: 30px;
      border-radius: 20px;
      max-width: 600px;
      margin: auto;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    }
    h1 {
      margin-bottom: 20px;
      font-size: 28px;
    }
    .input-group {
      margin: 15px 0;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    label {
      margin-bottom: 5px;
      font-weight: bold;
    }
    input {
      padding: 10px;
      border: none;
      border-radius: 8px;
      width: 80%;
      text-align: center;
      font-size: 16px;
    }
    button {
      background: #ff7eb3;
      border: none;
      padding: 12px 25px;
      border-radius: 30px;
      color: white;
      font-size: 16px;
      cursor: pointer;
      margin-top: 20px;
      transition: 0.3s;
    }
    button:hover {
      background: #ff4d6d;
    }
    .result {
      margin-top: 30px;
      font-size: 18px;
      background: rgba(0,0,0,0.3);
      padding: 20px;
      border-radius: 15px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Date Converter</h1>
    <p>Convert between <b>Gregorian</b>, <b>Solar Hijri</b> (Shamsi), and <b>Lunar Hijri</b> calendars.</p>

    <div class="input-group">
      <label for="gregorian">Gregorian (YYYY-MM-DD)</label>
      <input type="text" id="gregorian" placeholder="e.g. 2025-09-25">
    </div>

    <div class="input-group">
      <label for="shamsi">Solar Hijri (YYYY-MM-DD)</label>
      <input type="text" id="shamsi" placeholder="e.g. 1404-07-03">
    </div>

    <div class="input-group">
      <label for="hijri">Lunar Hijri (YYYY-MM-DD)</label>
      <input type="text" id="hijri" placeholder="e.g. 1447-04-02">
    </div>

    <button onclick="convertDates()">Convert</button>

    <div class="result" id="result">Result will appear here...</div>
  </div>

  <script>
    function gregorianToJalali(gy, gm, gd) {
      var g_d_m, jy, jm, jd, gy2, days;
      g_d_m = [0,31,((gy%4==0 && gy%100!=0)|| (gy%400==0))?29:28,31,30,31,30,31,31,30,31,30,31];
      gy2 = (gm > 2)? (gy+1) : gy;
      days = 355666 + (365*gy) + Math.floor((gy2+3)/4) - Math.floor((gy2+99)/100) + Math.floor((gy2+399)/400);
      for (var i=0; i < gm; i++) days += g_d_m[i];
      days += gd;
      jy = -1595 + (33*Math.floor(days/12053));
      days %= 12053;
      jy += 4*Math.floor(days/1461);
      days %= 1461;
      if (days > 365) {
        jy += Math.floor((days-1)/365);
        days = (days-1)%365;
      }
      if (days < 186) {
        jm = 1 + Math.floor(days/31);
        jd = 1 + (days%31);
      } else {
        jm = 7 + Math.floor((days-186)/30);
        jd = 1 + ((days-186)%30);
      }
      return [jy, jm, jd];
    }

    function jalaliToGregorian(jy, jm, jd) {
      var gy, gm, gd, days, sal_a, v, gy2;
      jy += 1595;
      days = -355668 + (365*jy) + Math.floor(jy/33)*8 + Math.floor(((jy%33)+3)/4) + jd + ((jm<7)? (jm-1)*31 : ((jm-7)*30+186));
      gy = 400 * Math.floor(days/146097);
      days %= 146097;
      if (days > 36524) {
        gy += 100 * Math.floor(--days/36524);
        days %= 36524;
        if (days >= 365) days++;
      }
      gy += 4 * Math.floor(days/1461);
      days %= 1461;
      if (days > 365) {
        gy += Math.floor((days-1)/365);
        days = (days-1)%365;
      }
      gd = days+1;
      sal_a = [0,31,((gy%4==0 && gy%100!=0)|| (gy%400==0))?29:28,31,30,31,30,31,31,30,31,30,31];
      for (gm=0; gm<13; gm++) {
        v = sal_a[gm];
        if (gd <= v) break;
        gd -= v;
      }
      return [gy, gm, gd];
    }

    function gregorianToHijri(gy, gm, gd) {
      var jd = Math.floor((1461*(gy+4800+(gm-14)/12))/4) + Math.floor((367*(gm-2-12*((gm-14)/12)))/12) - Math.floor((3*((gy+4900+(gm-14)/12)/100))/4) + gd-32075;
      var l = jd-1948440+10632;
      var n = Math.floor((l-1)/10631);
      l = l-10631*n+354;
      var j = (Math.floor((10985-l)/5316))*(Math.floor((50*l)/17719))+(Math.floor(l/5670))*(Math.floor((43*l)/15238));
      l = l-(Math.floor((30-j)/15))*(Math.floor((17719*j)/50))-(Math.floor(j/16))*(Math.floor((15238*j)/43))+29;
      gm = Math.floor((24*l)/709);
      gd = l-Math.floor((709*gm)/24);
      gy = 30*n+j-30;
      return [gy, gm, gd];
    }

    function hijriToGregorian(hy, hm, hd) {
      var jd = Math.ceil((11*hy + 3)/30) + 354*hy + 30*hm - Math.floor((hm-1)/2) + hd + 1948440 - 385;
      var l = jd + 68569;
      var n = Math.floor((4*l)/146097);
      l = l - Math.floor((146097*n + 3)/4);
      var i = Math.floor((4000*(l+1))/1461001);
      l = l - Math.floor((1461*i)/4) + 31;
      var j = Math.floor((80*l)/2447);
      var gd = l - Math.floor((2447*j)/80);
      l = Math.floor(j/11);
      var gm = j + 2 - 12*l;
      var gy = 100*(n-49) + i + l;
      return [gy, gm, gd];
    }

    function convertDates() {
      let g = document.getElementById("gregorian").value;
      let s = document.getElementById("shamsi").value;
      let h = document.getElementById("hijri").value;
      let result = "";

      if (g) {
        let [gy, gm, gd] = g.split("-").map(Number);
        let j = gregorianToJalali(gy, gm, gd);
        let hi = gregorianToHijri(gy, gm, gd);
        result = "<b>Gregorian:</b> " + g + "<br>" +
                 "<b>Solar Hijri:</b> " + j.join("-") + "<br>" +
                 "<b>Lunar Hijri:</b> " + hi.join("-");
      } else if (s) {
        let [jy, jm, jd] = s.split("-").map(Number);
        let g = jalaliToGregorian(jy, jm, jd);
        let hi = gregorianToHijri(g[0], g[1], g[2]);
        result = "<b>Solar Hijri:</b> " + s + "<br>" +
                 "<b>Gregorian:</b> " + g.join("-") + "<br>" +
                 "<b>Lunar Hijri:</b> " + hi.join("-");
      } else if (h) {
        let [hy, hm, hd] = h.split("-").map(Number);
        let g = hijriToGregorian(hy, hm, hd);
        let j = gregorianToJalali(g[0], g[1], g[2]);
        result = "<b>Lunar Hijri:</b> " + h + "<br>" +
                 "<b>Gregorian:</b> " + g.join("-") + "<br>" +
                 "<b>Solar Hijri:</b> " + j.join("-");
      } else {
        result = "Please enter a date in one of the fields.";
      }

      document.getElementById("result").innerHTML = result;
    }
  </script>
</body>
</html>
